{% extends './base.html' %} {% load static %} {% block contentarea %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js" defer></script>

<form action="" method="POST">
  {% csrf_token %}
  <div class="mt-4 mb-6">
    <!-- Modal title -->
    <p class="mb-2 text-lg font-semibold text-gray-700 dark:text-gray-300">Make Appointment</p>
    <!-- Modal description -->
    <p class="text-sm text-gray-700 dark:text-gray-400">Please be advised that you cannot carry over sessions. Any sessions not used within the month will be lost. Any mileage over the recommended radius will incur an additional charge.</p>

    <div id="datetimediv"></div>
    <input type="datetime-local" name="datetime" id="datetime" onchange="hmm(event.target.value)" />
    {% comment %}
    <div class="flex space-x-5">
      <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
        <span class="text-gray-700 dark:text-gray-400">Date *</span>
        <!-- focus-within sets the color for the icon when input is focused -->
        <div class="relative text-gray-500 focus-within:text-purple-600 dark:focus-within:text-purple-400">
          <input name="date" id="date" readonly required class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Date" />
          <div class="absolute inset-y-0 right-0 flex items-center mr-3 pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z" />
            </svg>
          </div>
        </div>
      </label>

      <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
        <span class="text-gray-700 dark:text-gray-400">Time *</span>
        <!-- focus-within sets the color for the icon when input is focused -->
        <div class="relative text-gray-500 focus-within:text-purple-600 dark:focus-within:text-purple-400">
          <input name="start_time" id="start_time" readonly required class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Time" />
          <input type="hidden" name="time" id="time" value="" />
          <div class="absolute inset-y-0 right-0 flex items-center mr-3 pointer-events-none">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
        </div>
      </label>
    </div>
    {% endcomment %}

    <label for="package" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Select a package *</label>
    <select name="package" id="package" required class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
      <option selected>Choose a package</option>
      {% for package in packages %}
      <option value="{{ package.id }}">{{ package.name }} Package ({{ package.duration }} Hrs)</option>
      {% endfor %}
    </select>

    <button type="submit" class="w-full px-5 py-3 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-purple-600 border border-transparent rounded-lg sm:w-auto sm:px-4 sm:py-2 active:bg-purple-600 hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple">Book Now</button>
  </div>
</form>

<script>
    function hmm(e){console.log(e)}
  $(document).ready(function () {
    $("#datetimediv").datetimepicker({
      minDate: 0,
      format: "Y-m-d h:i",
      inline: true,
      allowTimes: ["12:00", "13:00", "15:00", "17:00", "17:05", "17:20", "19:00", "20:00"],
      onChangeDateTime: function (dp, $input) {
        console.log($input.val());
        $("#datetime").val($input.val())
      },
    });
  });
</script>

{% endblock contentarea %}
